(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{753:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f}));var a=n(19),r=n.n(a),c=n(77),o=n(76);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return c.a.create(l({},e,{API:o.a.API+"/block/create"}))}function u(e){return c.a.getList(l({},e,{API:o.a.API+"/block/get-block"}))}function d(e){return c.a.del(l({},e,{API:o.a.API+"/block/delete"}))}function p(e){return c.a.create(l({},e,{API:o.a.API+"/block/delete-all"}))}function f(e){return c.a.update(l({},e,{API:o.a.API+"/block/update"}))}},777:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n.n(a),c=n(192),o=n.n(c),i=n(0),l=n.n(i),s=n(61),u=n(748),d=n(109),p=n(106),f=n(772),m=n(744),b=n(746),h=n(747),y=n(754),O=n(773),k=n(248),E=n.n(k),g=n(750),j=n(749),w=n(774),v=n(1),P=n.n(v),x=n(124),T=n.n(x),I=n(753);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={isOpen:P.a.bool.isRequired,toggleModal:P.a.func.isRequired,blockEdited:P.a.object},D=(u.a.Text,u.a.Title,g.a.TextArea),A=function(e){var t=j.a.useForm(),n=o()(t,1)[0],a=e.isOpen,r=e.toggleModal,c=(e.title,e.type,e.userLogin),s=e.blockEdited,u=Object(i.useState)(!1),d=o()(u,2),f=d[0],b=d[1];Object(i.useEffect)((function(){T.a.isEmpty(s)?n.setFieldsValue({nameBlock:"",address:"",descreption:""}):n.setFieldsValue({nameBlock:s.nameBlock,address:s.address,descreption:s.desc})}),[a,s]);var h=function(t){b(!0);var n=I.e(S({id:s.key},t));n&&n.then((function(t){t.data&&t.data.data?(m.a.success("Cập nhật thành công!"),r(),e.callback()):m.a.error("Cập nhật thất bại!"),b(!1)}))},y=function(t){if(c.id){b(!0);var n=I.a(S({},t,{idOwner:c.id}));n&&n.then((function(t){t.data&&t.data.data?(m.a.success("Tạo khu trọ thành công!"),r(),e.callback()):m.a.error("Tạo khu trọ thất bại! Xin vui lòng thử lại"),b(!1)}))}};return l.a.createElement(w.a,{width:700,title:l.a.createElement("div",{className:"flex-row",style:{fontSize:20,color:"#08979c"}},l.a.createElement("i",{className:T.a.isEmpty(s)?"icon-add":"icon-createmode_editedit"}),"  ",l.a.createElement("strong",null,T.a.isEmpty(s)?"Thêm mới":"Chỉnh sửa")),forceRender:!0,destroyOnClose:!1,getContainer:!1,visible:a,onOk:function(){r()},onCancel:function(){r()},footer:null},l.a.createElement(j.a,E()({},{labelCol:{xs:{span:24},md:{span:6}},wrapperCol:{xs:{span:24},md:{span:18}}},{form:n,name:"form-block",onFinish:function(e){T.a.isEmpty(s)?y(e):h(e)}}),l.a.createElement(j.a.Item,{label:"Tên khu/Tòa nhà",name:"nameBlock",rules:[{required:!0,message:"Hãy nhập tên khu trọ/căn hộ"}]},l.a.createElement(g.a,{placeholder:"Nhập tên khu trọ/căn hộ"})),l.a.createElement(j.a.Item,{label:"Địa chỉ",name:"address",rules:[{required:!0,message:"Hãy nhập Địa chỉ khu trọ/căn hộ"}]},l.a.createElement(D,{placeholder:"Hãy nhập Địa chỉ khu trọ/căn hộ"})),l.a.createElement(j.a.Item,{label:"Mô tả",name:"descreption"},l.a.createElement(D,{placeholder:"Hãy nhập mô tả"})),l.a.createElement(j.a.Item,{wrapperCol:{md:{span:8,offset:16}}},l.a.createElement("div",{className:"flex-row",style:{justifyContent:"flex-end"}},l.a.createElement(p.a,{onClick:function(){r()}},"Hủy bỏ")," ",l.a.createElement(p.a,{htmlType:"submit",type:"primary",loading:f},"Lưu lại")))))};A.propTypes=N,A.defaultProps={title:"Thêm mới",type:"create",blockEdited:{}};var B=Object(s.b)((function(e){return{userLogin:e.Layouts.layoutReducer.userLogin}}))(A),H=n(25);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=u.a.Title,_=(u.a.Text,{layout:H.b});t.default=Object(s.b)(null,_)((function(e){var t=Object(i.useState)([]),n=o()(t,2),a=n[0],r=n[1],c=Object(i.useState)({isOpen:!1,blockEdited:{}}),s=o()(c,2),u=s[0],k=s[1],E=Object(i.useState)(!1),g=o()(E,2),j=g[0],w=g[1],v=Object(i.useState)([]),P=o()(v,2),x=P[0],T=P[1],C={selectedRowKeys:x,onChange:function(e){T(e)}},S=[{title:"",dataIndex:"edit",key:"edit",width:100,render:function(e){return l.a.createElement("div",{className:"flex-row-center"},l.a.createElement(d.a,{title:"Sửa"},l.a.createElement(p.a,{onClick:function(){return A(e)},className:"flex-row-center",size:"small",shape:"circle"},l.a.createElement("i",{className:"icon-createmode_editedit"}))),"  ",l.a.createElement(d.a,{title:"Xóa"},l.a.createElement(f.a,{title:"Bạn muốn xóa khu trọ/căn hộ này?",onConfirm:function(){return N(e)},okText:"Xóa",cancelText:"Hủy"},l.a.createElement(p.a,{className:"flex-row-center",size:"small",type:"danger",shape:"circle"},l.a.createElement("i",{className:"icon-highlight_remove"})))))}},{title:"Tên khu/Tòa nhà",dataIndex:"nameBlock",key:"nameBlock"},{title:"Địa chỉ",dataIndex:"address",key:"address"},{title:"Mô tả",dataIndex:"desc",key:"desc"}];Object(i.useEffect)((function(){e.layout({type:"path",value:"blocks"}),D()}),[]);var N=function(e){var t=I.b({id:e});t&&t.then((function(e){e.data&&e.data.data?(m.a.success("Xóa khu trọ/căn hộ thành công"),D()):m.a.error("Xóa khu trọ/căn hộ thất bại!")}))},D=function(){var e=I.d();w(!0),e&&e.then((function(e){if(e.data&&e.data.data){var t=e.data.data.blocks.map((function(e){return{key:e.id,edit:e.id,nameBlock:e.nameBlock,address:e.address,desc:e.descreption}}));r(t)}w(!1)}))},A=function(e){var t=a.find((function(t){return t.key===e}));k(L({},u,{isOpen:!0,blockEdited:t}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{style:{padding:10}},l.a.createElement(h.a,{xs:{span:24,offset:0},md:{span:12,offset:0}},l.a.createElement(R,{level:4},"QUẢN LÝ DANH SÁCH NHÀ TRỌ")),l.a.createElement(h.a,{xs:{span:24,offset:0},md:{span:12,offset:0},style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement(p.a,{type:"primary",className:"flex-row",onClick:function(){k(L({},u,{blockEdited:{},isOpen:!0}))}},l.a.createElement("i",{className:"icon-add_circle_outlinecontrol_point"}),"   Thêm mới"),"  ",l.a.createElement(f.a,{placement:"bottom",title:"Bạn có muốn xóa ".concat(x.length," khu trọ/căn hộ này?"),onConfirm:function(){var e=I.c({blocksId:x});e&&e.then((function(e){e.data&&e.data.data?(m.a.success("Xóa thành công!"),T([]),D()):m.a.error("Xóa không thành công!")}))},okText:"Xóa",cancelText:"Hủy"},l.a.createElement(p.a,{type:"danger",disabled:!(x.length>0)},l.a.createElement("i",{className:"icon-delete"}),"   Xóa nhiều")))),l.a.createElement(y.a,{spinning:j,tip:"Loading..."},l.a.createElement(b.a,{style:{padding:10}},l.a.createElement(O.a,{size:"small",rowSelection:C,style:{width:"100%"},columns:S,dataSource:a}))),l.a.createElement(B,{blockEdited:u.blockEdited,isOpen:u.isOpen,toggleModal:function(){k(L({},u,{isOpen:!u.isOpen}))},callback:function(){D()}}))}))}}]);
//# sourceMappingURL=4.js.map