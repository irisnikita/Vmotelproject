(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{752:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(19),r=a.n(n),c=a(77),l=a(76);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e){return c.a.create(i({},e,{API:l.a.API+"/room/create"}))}function u(e){return c.a.getList(i({},e,{API:l.a.API+"/room/get-rooms"}))}},753:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"e",(function(){return d}));var n=a(19),r=a.n(n),c=a(77),l=a(76);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e){return c.a.create(i({},e,{API:l.a.API+"/block/create"}))}function u(e){return c.a.getList(i({},e,{API:l.a.API+"/block/get-block"}))}function m(e){return c.a.del(i({},e,{API:l.a.API+"/block/delete"}))}function p(e){return c.a.create(i({},e,{API:l.a.API+"/block/delete-all"}))}function d(e){return c.a.update(i({},e,{API:l.a.API+"/block/update"}))}},778:function(e,t,a){"use strict";a.r(t);var n=a(19),r=a.n(n),c=a(26),l=a.n(c),o=a(159),i=a.n(o),s=a(192),u=a.n(s),m=a(0),p=a.n(m),d=a(1),f=a.n(d),b=a(61),y=a(748),h=a(739),O=a(109),g=a(106),E=a(772),w=a(746),j=a(747),P=a(750),x=a(754),k=a(773),v=(a(59),a(770)),I=a.n(v),S=a(25),T=a(753),N=a(752),C=a(248),D=a.n(C),A=a(749),q=a(744),H=a(774),R=a(775);a(124);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=P.a.TextArea,M=function(e){var t=A.a.useForm(),a=u()(t,1)[0],n=e.isOpen,r=e.toggleModal,c=(e.blockEdited,e.callback),o=e.type,s=e.title,d=e.block,f=Object(m.useState)(!1),b=u()(f,2),y=b[0],h=b[1],O=function(){var e=i()(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=B({},t,{nameBlock:"",idBlock:d.id,status:0}),h(!0),e.next=4,N.a(B({},a));case 4:(n=e.sent)&&(n.data&&n.data.data?(q.a.success("Tạo phòng thành công"),r(),c()):q.a.error("Tạo phòng thất bại"),h(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p.a.createElement(H.a,{width:800,title:p.a.createElement("div",{className:"flex-row",style:{fontSize:20,color:"#08979c"}},p.a.createElement("i",{className:"create"===o?"icon-add":"icon-createmode_editedit"}),"  ",p.a.createElement("strong",null,s)),forceRender:!0,destroyOnClose:!1,getContainer:!1,visible:n,onOk:function(){r()},onCancel:function(){r()},footer:null},p.a.createElement(A.a,D()({form:a},{labelCol:{xs:{span:24},md:{span:9}},wrapperCol:{xs:{span:24},md:{span:15}}},{name:"form-block",onFinish:function(e){O(e)}}),p.a.createElement(w.a,null,p.a.createElement(j.a,{xs:{span:24},md:{span:12}},p.a.createElement(A.a.Item,{label:"Khu/Tòa nhà",name:"nameBlock"},p.a.createElement("strong",null,d?d.nameBlock:null))),p.a.createElement(j.a,{xs:{span:24},md:{span:12}},p.a.createElement(A.a.Item,{label:"Tên phòng",name:"nameRoom",rules:[{required:!0,message:"Hãy nhập tên phòng"}]},p.a.createElement(P.a,{placeholder:"Nhập tên phòng"})))),p.a.createElement(w.a,null,p.a.createElement(j.a,{xs:{span:24},md:{span:12}},p.a.createElement(A.a.Item,{label:"Số người tối đa",name:"maxPeople",rules:[{required:!0,message:"Hãy nhập số người tối đa"}]},p.a.createElement(R.a,{style:{width:200},min:1,max:10,placeholder:"Nhập số người tối đa"}))),p.a.createElement(j.a,{xs:{span:24},md:{span:12}},p.a.createElement(A.a.Item,{label:"Tầng",name:"floor",rules:[{required:!0,message:"Hãy nhập tầng"}]},p.a.createElement(R.a,{style:{width:200},placeholder:"Nhập tầng"})))),p.a.createElement(w.a,null,p.a.createElement(j.a,{xs:{span:24},md:{span:12}},p.a.createElement(A.a.Item,{label:"Diện tích",name:"square",rules:[{required:!0,message:"Hãy nhập diện tích(m2)"}]},p.a.createElement(R.a,{style:{width:200},min:1,max:100,placeholder:"Nhập diện tích"}))),p.a.createElement(j.a,{xs:{span:24},md:{span:12}},p.a.createElement(A.a.Item,{label:"Đơn giá",name:"price",rules:[{required:!0,message:"Hãy nhập giá phòng"}]},p.a.createElement(R.a,{style:{width:200},formatter:function(e){return"₫ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\₫\s?|(,*)/g,"")},placeholder:"Nhập số tiền"})))),p.a.createElement(w.a,null,p.a.createElement(j.a,{span:24},p.a.createElement(A.a.Item,{wrapperCol:{md:{span:20}},labelCol:{md:{span:4}},label:"Mô tả",name:"descreption"},p.a.createElement(L,{placeholder:"Hãy nhập mô tả"})))),p.a.createElement(A.a.Item,{wrapperCol:{md:{span:8,offset:16}}},p.a.createElement("div",{className:"flex-row",style:{justifyContent:"flex-end"}},p.a.createElement(g.a,{onClick:function(){}},"Hủy bỏ")," ",p.a.createElement(g.a,{htmlType:"submit",type:"primary",loading:y},"Lưu lại")))))};M.propTypes={isOpen:f.a.bool.isRequired,toggleModal:f.a.func.isRequired},M.defaultProps={title:"Thêm mới",type:"create",roomEdited:{}};var z=M;function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G=y.a.Title,J=h.a.Option,V=function(e){var t=Object(m.useState)(!1),a=u()(t,2),n=a[0],r=a[1],c=Object(m.useState)([]),o=u()(c,2),s=o[0],d=o[1],f=Object(m.useState)(null),b=u()(f,2),y=b[0],v=b[1],S=Object(m.useState)([]),C=u()(S,2),D=C[0],A=C[1],q=Object(m.useState)({isOpen:!1,roomEdited:{}}),H=u()(q,2),R=H[0],_=H[1],B=[{title:"",dataIndex:"edit",key:"edit",width:100,render:function(e){return p.a.createElement("div",{className:"flex-row-center"},p.a.createElement(O.a,{title:"Sửa"},p.a.createElement(g.a,{onClick:function(){return L(e)},className:"flex-row-center",size:"small",shape:"circle"},p.a.createElement("i",{className:"icon-createmode_editedit"}))),"  ",p.a.createElement(O.a,{title:"Xóa"},p.a.createElement(E.a,{title:"Bạn muốn xóa khu trọ/căn hộ này?",onConfirm:function(){return M(e)},okText:"Xóa",cancelText:"Hủy"},p.a.createElement(g.a,{className:"flex-row-center",size:"small",type:"danger",shape:"circle"},p.a.createElement("i",{className:"icon-highlight_remove"})))))}},{title:"Tầng",dataIndex:"floor",key:"floor"},{title:"Tên phòng",dataIndex:"nameRoom",key:"nameRoom"},{title:"Số người tối đa",dataIndex:"maxPeople",key:"maxPeople"},{title:"Diện tích(m2)",dataIndex:"square",key:"square"},{title:"Đơn giá",dataIndex:"price",key:"price",render:function(e){return p.a.createElement("div",null,I()(e).format("0,0.00")," vnđ")}},{title:"Trạng thái",dataIndex:"status",key:"status",render:function(e){switch(e){case 0:return p.a.createElement("div",null,"Còn trống");case 1:return p.a.createElement("div",null,"Đã thuê")}}},{title:"Mô tả",dataIndex:"descreption",key:"descreption"}];Object(m.useEffect)((function(){e.layout({type:"path",value:"rooms-motel"}),V()}),[]),Object(m.useEffect)((function(){if(s.length>0)if(localStorage.getItem("blockSelected")){var e=localStorage.getItem("blockSelected");v(+e)}else v(s[0].id)}),[s]),Object(m.useEffect)((function(){y&&X()}),[y]);var L=function(){},M=function(){},X=function(){var e=i()(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,N.b({idBlock:y,id:1});case 3:(t=e.sent)&&(t.data&&t.data.data&&(a=t.data.data.rooms,n=a.map((function(e){return{key:e.id,nameRoom:e.nameRoom,edit:e.id,floor:e.floor,square:e.square,price:e.price,descreption:e.descreption,maxPeople:e.maxPeople,status:e.status}})),A(n)),r(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=T.d();r(!0),e&&e.then((function(e){if(e.data&&e.data.data){var t=e.data.data.blocks;d(t)}r(!1)}))};return p.a.createElement("div",{style:{padding:10}},p.a.createElement(w.a,null,p.a.createElement(j.a,{xs:{span:24,offset:0},md:{span:12,offset:0}},p.a.createElement(G,{level:4},"QUẢN LÝ PHÒNG TRỌ")),p.a.createElement(j.a,{xs:{span:24,offset:0},md:{span:12,offset:0},className:"flex-row",style:{justifyContent:"flex-end"}},p.a.createElement(h.a,{showSearch:!0,value:y,style:{width:200},placeholder:"Chọn khu trọ",onChange:function(e){localStorage.setItem("blockSelected",e),v(e)},optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s.map((function(e){return p.a.createElement(J,{key:e.id,value:e.id},e.nameBlock)}))))),p.a.createElement(w.a,{style:{marginTop:20}},p.a.createElement(j.a,{xs:{span:24},md:{span:12}},p.a.createElement(P.a.Group,{compact:!0},p.a.createElement(h.a,{defaultValue:"hello"},p.a.createElement(J,{value:"hello"},"Hello")),p.a.createElement(P.a,{style:{width:200},defaultValue:"26888888"}))),p.a.createElement(j.a,{xs:{span:24},md:{span:12},className:"flex-row",style:{justifyContent:"flex-end"}},p.a.createElement(g.a,{type:"primary",className:"flex-row",onClick:function(){_(F({},R,{isOpen:!0}))}},p.a.createElement("i",{className:"icon-add_circle_outlinecontrol_point"}),"   Thêm mới"),"  ",p.a.createElement(g.a,{type:"primary",className:"flex-row"},p.a.createElement("i",{className:"icon-add_circle_outlinecontrol_point"}),"   Thêm nhiều"),"  ",p.a.createElement(E.a,{placement:"bottom",okText:"Xóa",cancelText:"Hủy"},p.a.createElement(g.a,{type:"danger"},p.a.createElement("i",{className:"icon-delete"}),"   Xóa nhiều")))),p.a.createElement(x.a,{spinning:n,tip:"Loading..."},p.a.createElement(w.a,{style:{paddingTop:"10px"}},p.a.createElement(k.a,{size:"small",rowSelection:function(){},style:{width:"100%"},columns:B,dataSource:D}))),p.a.createElement(z,{blockEdited:R.roomEdited,block:s.find((function(e){return e.id===y})),isOpen:R.isOpen,toggleModal:function(){_(F({},R,{isOpen:!R.isOpen}))},callback:function(){X()}}))},K={layout:S.b};V.propTypes={};t.default=Object(b.b)(null,K)(V)}}]);
//# sourceMappingURL=2.js.map