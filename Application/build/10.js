(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{924:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(374),r=function(e){return"string"!=typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},c=function(e){return e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D")},s=function(e){if(e&&"string"==typeof e)switch(e){case"fullName":return"Tên khách hàng";case"sex":return"Giới tính";case"job":return"Nghề nghiệp";case"workPlace":return"Nơi làm việc";case"tempReg":return"Đăng ký tạm trú";case"address":return"Địa chỉ";case"dateBirth":return"Ngày sinh";case"email":return"Địa chỉ email";case"avatar":return"Ảnh đại diện";case"phoneNumber":return"Số điện thoại";case"codeUser":return"Mã khách hàng";case"male":return"Name";case"female":return"Nữ";case"note":return"Ghi chú";case"identifyFront":return"Ảnh cmnd mặt trước";case"identifyBack":return"Ảnh cmnd mặt sau";default:return""}};function i(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||n.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||n.a.error("Image must smaller than 2MB!"),t&&a}},927:function(e,t,a){var n={"./af":788,"./af.js":788,"./ar":789,"./ar-dz":790,"./ar-dz.js":790,"./ar-kw":791,"./ar-kw.js":791,"./ar-ly":792,"./ar-ly.js":792,"./ar-ma":793,"./ar-ma.js":793,"./ar-sa":794,"./ar-sa.js":794,"./ar-tn":795,"./ar-tn.js":795,"./ar.js":789,"./az":796,"./az.js":796,"./be":797,"./be.js":797,"./bg":798,"./bg.js":798,"./bm":799,"./bm.js":799,"./bn":800,"./bn.js":800,"./bo":801,"./bo.js":801,"./br":802,"./br.js":802,"./bs":803,"./bs.js":803,"./ca":804,"./ca.js":804,"./cs":805,"./cs.js":805,"./cv":806,"./cv.js":806,"./cy":807,"./cy.js":807,"./da":808,"./da.js":808,"./de":809,"./de-at":810,"./de-at.js":810,"./de-ch":811,"./de-ch.js":811,"./de.js":809,"./dv":812,"./dv.js":812,"./el":813,"./el.js":813,"./en-au":814,"./en-au.js":814,"./en-ca":815,"./en-ca.js":815,"./en-gb":816,"./en-gb.js":816,"./en-ie":817,"./en-ie.js":817,"./en-il":818,"./en-il.js":818,"./en-in":819,"./en-in.js":819,"./en-nz":820,"./en-nz.js":820,"./en-sg":821,"./en-sg.js":821,"./eo":822,"./eo.js":822,"./es":823,"./es-do":824,"./es-do.js":824,"./es-us":825,"./es-us.js":825,"./es.js":823,"./et":826,"./et.js":826,"./eu":827,"./eu.js":827,"./fa":828,"./fa.js":828,"./fi":829,"./fi.js":829,"./fil":830,"./fil.js":830,"./fo":831,"./fo.js":831,"./fr":832,"./fr-ca":833,"./fr-ca.js":833,"./fr-ch":834,"./fr-ch.js":834,"./fr.js":832,"./fy":835,"./fy.js":835,"./ga":836,"./ga.js":836,"./gd":837,"./gd.js":837,"./gl":838,"./gl.js":838,"./gom-deva":839,"./gom-deva.js":839,"./gom-latn":840,"./gom-latn.js":840,"./gu":841,"./gu.js":841,"./he":842,"./he.js":842,"./hi":843,"./hi.js":843,"./hr":844,"./hr.js":844,"./hu":845,"./hu.js":845,"./hy-am":846,"./hy-am.js":846,"./id":847,"./id.js":847,"./is":848,"./is.js":848,"./it":849,"./it-ch":850,"./it-ch.js":850,"./it.js":849,"./ja":851,"./ja.js":851,"./jv":852,"./jv.js":852,"./ka":853,"./ka.js":853,"./kk":854,"./kk.js":854,"./km":855,"./km.js":855,"./kn":856,"./kn.js":856,"./ko":857,"./ko.js":857,"./ku":858,"./ku.js":858,"./ky":859,"./ky.js":859,"./lb":860,"./lb.js":860,"./lo":861,"./lo.js":861,"./lt":862,"./lt.js":862,"./lv":863,"./lv.js":863,"./me":864,"./me.js":864,"./mi":865,"./mi.js":865,"./mk":866,"./mk.js":866,"./ml":867,"./ml.js":867,"./mn":868,"./mn.js":868,"./mr":869,"./mr.js":869,"./ms":870,"./ms-my":871,"./ms-my.js":871,"./ms.js":870,"./mt":872,"./mt.js":872,"./my":873,"./my.js":873,"./nb":874,"./nb.js":874,"./ne":875,"./ne.js":875,"./nl":876,"./nl-be":877,"./nl-be.js":877,"./nl.js":876,"./nn":878,"./nn.js":878,"./oc-lnc":879,"./oc-lnc.js":879,"./pa-in":880,"./pa-in.js":880,"./pl":881,"./pl.js":881,"./pt":882,"./pt-br":883,"./pt-br.js":883,"./pt.js":882,"./ro":884,"./ro.js":884,"./ru":885,"./ru.js":885,"./sd":886,"./sd.js":886,"./se":887,"./se.js":887,"./si":888,"./si.js":888,"./sk":889,"./sk.js":889,"./sl":890,"./sl.js":890,"./sq":891,"./sq.js":891,"./sr":892,"./sr-cyrl":893,"./sr-cyrl.js":893,"./sr.js":892,"./ss":894,"./ss.js":894,"./sv":895,"./sv.js":895,"./sw":896,"./sw.js":896,"./ta":897,"./ta.js":897,"./te":898,"./te.js":898,"./tet":899,"./tet.js":899,"./tg":900,"./tg.js":900,"./th":901,"./th.js":901,"./tl-ph":902,"./tl-ph.js":902,"./tlh":903,"./tlh.js":903,"./tr":904,"./tr.js":904,"./tzl":905,"./tzl.js":905,"./tzm":906,"./tzm-latn":907,"./tzm-latn.js":907,"./tzm.js":906,"./ug-cn":908,"./ug-cn.js":908,"./uk":909,"./uk.js":909,"./ur":910,"./ur.js":910,"./uz":911,"./uz-latn":912,"./uz-latn.js":912,"./uz.js":911,"./vi":913,"./vi.js":913,"./x-pseudo":914,"./x-pseudo.js":914,"./yo":915,"./yo.js":915,"./zh-cn":916,"./zh-cn.js":916,"./zh-hk":917,"./zh-hk.js":917,"./zh-mo":918,"./zh-mo.js":918,"./zh-tw":919,"./zh-tw.js":919};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=927},929:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return p}));var n=a(14),r=a.n(n),c=a(53),s=a(51);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e){return c.a.create(o(o({},e),{},{API:s.a.API+"/customer/create"}))}function u(e){return c.a.getList(o(o({},e),{},{API:s.a.API+"/customer/get-customers"}))}function m(e){return c.a.del(o(o({},e),{},{API:s.a.API+"/customer/delete"}))}function d(e){return c.a.create(o(o({},e),{},{API:s.a.API+"/customer/delete-all"}))}function p(e){return c.a.update(o(o({},e),{},{API:s.a.API+"/customer/update"}))}},990:function(e,t,a){"use strict";a.r(t);var n=a(92),r=a.n(n),c=a(39),s=a.n(c),i=a(14),o=a.n(i),l=a(172),u=a.n(l),m=a(147),d=a.n(m),p=a(0),f=a.n(p),h=(a(54),a(61)),j=a(786),b=a.n(j),g=a(784),y=a(160),k=a(104),E=a(991),v=a(374),O=a(781),x=a(782),w=a(775),N=a(985),P=a(780),D=a(30),z=a(929),I=a(277),S=a.n(I),C=a(783),T=a(987),Y=a(776),B=a(981),A=a(772),F=a(769),M=a(122),R=a.n(M),_=a.p+"3d0086d238b116794eccb46a0e196525.png",X=a(924),H=a(998),G=a(53),U=a(51);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=function(e){var t=Object(p.useState)(""),a=d()(t,2),n=a[0],r=a[1],c=Object(p.useState)(!1),i=d()(c,2),o=i[0],l=i[1];Object(p.useEffect)((function(){e.callback(n)}),[n]),Object(p.useEffect)((function(){""!==e.imageEdited?r(e.imageEdited):r("")}),[e.imageEdited]);var m=function(){var e=u()(s.a.mark((function e(t){var a,n,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files,!Object(X.a)(a[0])){e.next=10;break}return(n=new FormData).append("file",a[0]),l(!0),e.next=7,s={formData:n},G.a.upload(q(q({},s),{},{API:U.a.API+"/upload/userAvatar"}));case 7:(c=e.sent)&&c.data&&c.data.data&&(i=c.data.data.path,v.a.success("Tải ảnh lên thành công"),r("".concat(U.a.API,"/").concat(i))),l(!1);case 10:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}();return f.a.createElement("div",{style:{alignItems:"center",flexDirection:"column",display:"flex",justifyContent:"center"}},f.a.createElement("div",{className:"image-preview mb-5"},f.a.createElement(w.a,{spinning:o},f.a.createElement("img",{src:""===n?_:n,alt:"image",width:"150px"}))),f.a.createElement(k.a,{type:"primary",icon:f.a.createElement(H.a,null),size:"middle"},"Tải ảnh lên",f.a.createElement(Y.a,{type:"file",name:"file",className:"input-upload",title:"",onChange:m})))};K.propTypes={};var V=K;function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=["Sinh viên","Người đi làm"],Z=function(e){var t=C.a.useForm(),a=d()(t,1)[0],n=e.isOpen,r=e.type,c=e.title,i=e.toggle,l=e.customerEdited,m=Object(p.useState)(!1),h=d()(m,2),j=h[0],g=h[1],y=Object(p.useState)(!1),E=d()(y,2),w=E[0],N=E[1],P=Object(p.useState)({avatar:"",identifyFront:"",identifyBack:""}),D=d()(P,2),I=D[0],M=D[1];Object(p.useEffect)((function(){!0===n&&(R.a.isEmpty(l)?(a.setFieldsValue({fullName:"",dateBirth:b()(new Date,"DD/MM/YYYY"),email:"",sex:U.a.SEXS[0].id,phoneNumber:"",job:"",workPlace:"",note:""}),M({avatar:"",identifyFront:"",identifyBack:""}),g(!1)):(a.setFieldsValue({fullName:l.fullName,dateBirth:b()(l.dateBirth),email:l.email,phoneNumber:l.phoneNumber,sex:l.sex,job:l.job,workPlace:l.workPlace,note:l.note}),M({avatar:l.avatar||"",identifyFront:l.identifyFront||"",identifyBack:l.identifyBack||""}),g(l.tempReg)))}),[n,l]);var _=function(){var t=u()(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!0),t.next=3,z.e(Q({id:l.id},a));case 3:(n=t.sent)&&(n.data&&n.data.data?(v.a.success("Cập nhật khách hàng thành công"),i(),e.callback()):v.a.error("Cập nhật khách hàng thất bại")),N(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=u()(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!0),t.next=3,z.a(Q({},a));case 3:if(!(n=t.sent)){t.next=23;break}if(!n.data||!n.data.data){t.next=11;break}v.a.success("Tạo khách hàng thành công"),i(),e.callback(),t.next=23;break;case 11:if(!(r=n.data.message).code){t.next=22;break}t.t0=r.code,t.next="ER_DUP_ENTRY"===t.t0?16:18;break;case 16:return v.a.error("Tên khách hàng đã có, xin vui lòng thử lại!"),t.abrupt("break",20);case 18:return v.a.error("Tạo khách hàng thất bại"),t.abrupt("break",20);case 20:t.next=23;break;case 22:v.a.error("Tạo khách hàng thất bại");case 23:N(!1);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return f.a.createElement(T.a,{width:700,title:f.a.createElement("div",{className:"flex-row",style:{fontSize:20,color:"#08979c"}},f.a.createElement("i",{className:"create"===r?"icon-add":"icon-createmode_editedit"}),"  ",f.a.createElement("strong",null,c)),forceRender:!0,destroyOnClose:!1,getContainer:!1,visible:n,onOk:function(){i()},onCancel:function(){i()},footer:null},f.a.createElement(C.a,S()({form:a},{labelCol:{xs:{span:24},md:{span:24}},wrapperCol:{xs:{span:24},md:{span:24}}},{name:"form-customer",onFinish:function(e){var t=Q(Q({},e),{},{dateBirth:b()(e.dateBirth).format("YYYY-MM-DD"),tempReg:j?1:0,avatar:I.avatar,identifyBack:I.identifyBack,identifyFront:I.identifyFront,codeUser:"#"+b()().unix(),status:0});R.a.isEmpty(l)?H(t):_(t)},labelAlign:"left",initialValues:{dateBirth:b()(new Date,"DD/MM/YYYY"),sex:U.a.SEXS[0].id}}),f.a.createElement(O.a,{gutter:16},f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Tên khách thuê",name:"fullName",rules:[{required:!0,message:"Hãy nhập tên khách thuê"}]},f.a.createElement(Y.a,{placeholder:"Nhập tên khách thuê"}))),f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Số điện thoại",name:"phoneNumber",rules:[{required:!0,message:"Hãy nhập số điện thoại"}]},f.a.createElement(Y.a,{placeholder:"Nhập số điện thoại",onChange:function(e){var t=e.target.value;t=t.replace(/[^0-9]/g,""),a.setFieldsValue({phoneNumber:t})}})))),f.a.createElement(O.a,{gutter:16},f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Ngày sinh",name:"dateBirth",rules:[{required:!0,message:"Hãy chọn ngày sinh"}]},f.a.createElement(B.a,{format:"DD/MM/YYYY"}))),f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Địa chỉ email",name:"email",rules:[{type:"email",message:"Vui lòng nhập đúng địa chỉ email"}]},f.a.createElement(Y.a,{placeholder:"Nhập địa chỉ email"})))),f.a.createElement(O.a,{gutter:16},f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Nghề nghiệp",name:"job"},f.a.createElement(A.default.Group,null,W.map((function(e){return f.a.createElement(A.default,{key:e,value:e},e)}))))),f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Nơi công tác",name:"workPlace"},f.a.createElement(Y.a,{placeholder:"Nhập nơi công tác"})))),f.a.createElement(O.a,{gutter:16},f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Giới tính",name:"sex"},f.a.createElement(A.default.Group,null,U.a.SEXS.map((function(e){return f.a.createElement(A.default,{key:e.id,value:e.id},e.value)}))))),f.a.createElement(x.a,{xs:{span:24},md:{span:12}},f.a.createElement(C.a.Item,{label:"Đăng ký tạm trú",name:"tempReg"},f.a.createElement(F.a,{checked:j,onChange:function(e){var t=e.target.checked;g(t)}},"Đăng ký")))),f.a.createElement(C.a.Item,{label:"Ghi chú",name:"note"},f.a.createElement(Y.a.TextArea,{placeholder:"Nhập ghi chú"})),f.a.createElement(O.a,{style:{marginBottom:20}},Object.keys(I).map((function(e){return f.a.createElement(x.a,{key:e,xs:{span:24},md:{span:8},className:"flex-cloumn-center"},f.a.createElement("div",null,Object(X.d)(e)),f.a.createElement(V,{imageEdited:I[e],callback:function(t){return function(e,t){M(Q(Q({},I),{},o()({},t,e)))}(t,e)}}))}))),f.a.createElement(C.a.Item,{wrapperCol:{md:{span:8,offset:16}}},f.a.createElement("div",{className:"flex-row",style:{justifyContent:"flex-end"}},f.a.createElement(k.a,{onClick:function(){i()}},"Hủy bỏ")," ",f.a.createElement(k.a,{htmlType:"submit",type:"primary",loading:w},"Lưu lại")))))};Z.defaultProps={isOpen:!1,type:"create",title:"Tạo khách hàng mới",customer:{}},Z.propTypes={};var $=Z;function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=g.a.Title,ne=["id","key","actions","userName","pass","rooms","identifyFront","identifyBack","role","province","avatar","idOwner","address"],re=function(e){var t=e.layout,a=e.blocks,n=Object(p.useState)([]),c=d()(n,2),i=c[0],o=c[1],l=Object(p.useState)(!1),m=d()(l,2),h=m[0],j=m[1],g=Object(p.useState)([]),D=d()(g,2),I=D[0],S=D[1],C=Object(p.useState)({isOpen:!1,customerEdited:{}}),T=d()(C,2),Y=T[0],B=T[1],A={selectedRowKeys:i,onChange:function(e){o(e)}},F=[{title:"",dataIndex:"actions",key:"actions",width:100,render:function(e){return f.a.createElement("div",{className:"flex-row-center"},f.a.createElement(y.a,{title:"Sửa"},f.a.createElement(k.a,{onClick:function(){return _(e)},className:"flex-row-center",size:"small",shape:"circle"},f.a.createElement("i",{className:"icon-createmode_editedit"}))),"  ",f.a.createElement(y.a,{title:"Xóa"},f.a.createElement(E.a,{title:"Bạn muốn xóa khu trọ/căn hộ này?",onConfirm:function(){return R(e)},okText:"Xóa",cancelText:"Hủy"},f.a.createElement(k.a,{className:"flex-row-center",size:"small",type:"danger",shape:"circle"},f.a.createElement("i",{className:"icon-highlight_remove"})))))}},{title:"Tên khách thuê",dataIndex:"fullName",key:"fullName"},{title:"Số điện thoại",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Trạng thái",dataIndex:"status",key:"status",render:function(e){return e&&e.length>0?f.a.createElement("div",{style:{color:"#13c2c2"}},f.a.createElement("i",{className:"icon-check_circle"}),"   Đã thuê"):f.a.createElement("div",{style:{color:"#f5222d"}},f.a.createElement("i",{className:"icon-error"}),"   Chưa thuê")}},{title:"Phòng",dataIndex:"rooms",key:"rooms",ellipsis:!0,render:function(e){return f.a.createElement("div",{className:"flex-row"},e&&e.length>0?e.map((function(e){return f.a.createElement("div",{key:e.nameRoom,style:{marginRight:"2px"}},"".concat(e.nameRoom,","))})):"Không có")}},{title:"Đại diện phòng",dataIndex:"roomMaster",key:"roomMaster"}];Object(p.useEffect)((function(){M()}),[]);var M=function(){var e=u()(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,z.d();case 3:(t=e.sent)&&t.data&&t.data.data&&(a=(a=t.data.data.customers).map((function(e){return te(te({},e),{},{status:e.rooms,key:e.id,actions:e.id})})),S(a)),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=u()(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=I.find((function(e){return e.id===t}))).rooms&&a.rooms.length>0)){e.next=5;break}v.a.error("Khách hàng đang thuê không thể xóa được !"),e.next=9;break;case 5:return e.next=7,z.b({id:t});case 7:(n=e.sent)&&n.data&&n.data.data&&(v.a.success("Xóa khách hàng thành công"),M());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=I.find((function(t){return t.id===e}));B(te(te({},t),{},{isOpen:!0,customerEdited:t}))};Object(p.useEffect)((function(){t({type:"path",value:"customers"})}),[]);var H=function(){var e=u()(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.filter((function(e){return i.some((function(t){return t===e.id}))})),!1,e.next=5,z.c({customersId:i});case 5:(a=e.sent)&&(a.data&&a.data.data?(v.a.success("Xóa các khách hàng thành công!"),M()):v.a.error("Xóa các khách hàng thất bại!")),e.next=11;break;case 9:n=t.filter((function(e){return e.rooms.length>0})),v.a.error("Có ".concat(n.length," khách hàng đang thuê, bạn không thể xóa được!"));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f.a.createElement("div",{style:{padding:10}},f.a.createElement(O.a,null,f.a.createElement(x.a,{xs:{span:24,offset:0},md:{span:12,offset:0}},f.a.createElement(ae,{level:4},"QUẢN LÝ KHÁCH THUÊ")),f.a.createElement(x.a,{xs:{span:24,offset:0},md:{span:12,offset:0},className:"flex-row",style:{justifyContent:"flex-end"}},f.a.createElement(k.a,{disabled:!(a.length>0),type:"primary",className:"flex-row",onClick:function(){B(te(te({},Y),{},{isOpen:!0,customerEdited:{}}))}},f.a.createElement("i",{className:"icon-add_circle_outlinecontrol_point"}),"   Thêm mới"),"  ",f.a.createElement(E.a,{disabled:!(i.length>0),placement:"bottom",title:"Bạn có muốn xóa ".concat(i.length," phòng này?"),okText:"Xóa",onConfirm:H,cancelText:"Hủy"},f.a.createElement(k.a,{disabled:!(i.length>0),type:"danger"},f.a.createElement("i",{className:"icon-delete"}),"   Xóa nhiều")))),f.a.createElement(w.a,{spinning:h,tip:"Loading..."},f.a.createElement(O.a,{style:{paddingTop:"10px"}},f.a.createElement(N.a,{size:"small",rowSelection:A,style:{width:"100%"},columns:F,dataSource:I,expandable:{expandedRowRender:function(e){return f.a.createElement(O.a,null,f.a.createElement(x.a,{xs:{span:24},md:{span:4},className:"flex-row-center"},f.a.createElement(P.a,{size:100,src:e.avatar})),f.a.createElement(x.a,{xs:{span:24},md:{span:16}},f.a.createElement(O.a,null,Object.keys(e).length>0?Object.keys(e).map((function(t){if(!ne.some((function(e){return t===e}))&&"object"!==r()(e[t]))return f.a.createElement(x.a,{span:"12",key:t},f.a.createElement("strong",null,Object(X.d)(t),":"),"  ",function(e,t){switch(e){case"sex":return"male"===t?"Nam":"Nữ";case"dateBirth":return b()(t).format("DD/MM/YYYY");case"tempReg":return 1===t?"Có":"Không";default:return t}}(t,e[t]))})):null)))}}}))),f.a.createElement($,{customerEdited:Y.customerEdited,callback:function(){M()},isOpen:Y.isOpen,toggle:function(){B(te(te({},Y),{},{isOpen:!Y.isOpen}))}}))};re.propTypes={};var ce={layout:D.c};t.default=Object(h.b)((function(e){return{blocks:e.Layouts.layoutReducer.blocks}}),ce)(re)}}]);
//# sourceMappingURL=10.js.map