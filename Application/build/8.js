(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{781:function(e,t,n){"use strict";n.r(t);var a=n(27),r=n.n(a),c=n(147),i=n.n(c),l=n(193),o=n.n(l),s=n(0),d=n.n(s),u=(n(1),n(50)),m=n(750),f=n(741),p=n(109),y=n(106),b=n(773),v=n(748),h=n(749),g=n(756),E=n(774),O=(n(60),n(755)),w=n.n(O),x=n(21),k=n(11),S=n.n(k),j=n(38),C=n(37);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=m.a.Title,T=f.a.Option,L=function(e){var t=e.layout,n=e.blocks,a=Object(s.useState)(null),c=o()(a,2),l=c[0],u=c[1],m=Object(s.useState)([]),O=o()(m,2),x=O[0],k=(O[1],Object(s.useState)(!1)),S=o()(k,2),I=S[0],L=S[1],D=Object(s.useState)([]),U=o()(D,2),_=U[0],B=U[1],X=[{title:"",dataIndex:"edit",key:"edit",width:100,render:function(e){return d.a.createElement("div",{className:"flex-row-center"},d.a.createElement(p.a,{title:"Sửa"},d.a.createElement(y.a,{onClick:function(){return A(e)},className:"flex-row-center",size:"small",shape:"circle"},d.a.createElement("i",{className:"icon-createmode_editedit"}))),"  ",d.a.createElement(p.a,{title:"Xóa"},d.a.createElement(b.a,{title:"Bạn muốn xóa dịch vụ này?",onConfirm:function(){return H(e)},okText:"Xóa",cancelText:"Hủy"},d.a.createElement(y.a,{className:"flex-row-center",size:"small",type:"danger",shape:"circle"},d.a.createElement("i",{className:"icon-highlight_remove"})))))}},{title:"Tên dịch vụ",dataIndex:"nameService",key:"nameService"},{title:"Đơn giá",dataIndex:"price",key:"price",render:function(e){return d.a.createElement("div",null,w()(e).format("0,0.00")," vnđ")}},{title:"Đơn vị",dataIndex:"idUnit",key:"idUnit"},{title:"Mô tả",dataIndex:"description",key:"description"}];Object(s.useEffect)((function(){t({type:"path",value:"services"})}),[]),Object(s.useEffect)((function(){l&&z()}),[l]),Object(s.useEffect)((function(){if(n.length>0){var e=n.some((function(e){return e.id===+localStorage.getItem("blockSelected")}));if(localStorage.getItem("blockSelected")&&e){var t=localStorage.getItem("blockSelected");u(+t)}else u(n[0].id)}}),[n]);var z=function(){var e=i()(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,r={idBlock:l},j.a.getList(N({},r,{API:C.a.API+"/service/get-services"}));case 3:(t=e.sent)&&t.data&&t.data.data&&(n=t.data.data.services,a=n.map((function(e){return{key:e.id,nameService:e.nameService,price:e.price,idUnit:e.idUnit,description:e.description}})),B(a||[])),L(!1);case 6:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){},A=function(e){};return d.a.createElement("div",{style:{padding:10}},d.a.createElement(v.a,null,d.a.createElement(h.a,{xs:{span:24,offset:0},md:{span:12,offset:0}},d.a.createElement(P,{level:4},"QUẢN LÝ DỊCH VỤ")),d.a.createElement(h.a,{xs:{span:24,offset:0},md:{span:12,offset:0},className:"flex-row",style:{justifyContent:"flex-end"}},d.a.createElement(f.a,{showSearch:!0,value:l,style:{width:200},placeholder:"Chọn khu trọ",onChange:function(e){localStorage.setItem("blockSelected",e),u(e)},optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},n.map((function(e){return d.a.createElement(T,{key:e.id,value:e.id},e.nameBlock)}))))),d.a.createElement(v.a,{style:{marginTop:20}},d.a.createElement(h.a,{xs:{span:24},md:{span:24},className:"flex-row",style:{justifyContent:"flex-end"}},d.a.createElement(y.a,{disabled:!(n.length>0),type:"primary",className:"flex-row",onClick:function(){}},d.a.createElement("i",{className:"icon-add_circle_outlinecontrol_point"}),"   Thêm mới"),"  ",d.a.createElement(b.a,{disabled:!(x.length>0),placement:"bottom",title:"Bạn có muốn xóa ".concat(x.length," phòng này?"),okText:"Xóa",onConfirm:function(){},cancelText:"Hủy"},d.a.createElement(y.a,{disabled:!(x.length>0),type:"danger"},d.a.createElement("i",{className:"icon-delete"}),"   Xóa nhiều")))),d.a.createElement(g.a,{spinning:I,tip:"Loading..."},d.a.createElement(v.a,{style:{paddingTop:"10px"}},d.a.createElement(E.a,{size:"small",rowSelection:{},style:{width:"100%"},columns:X,dataSource:_}))))};L.propTypes={};var D={layout:x.c};t.default=Object(u.b)((function(e){return{blocks:e.Layouts.layoutReducer.blocks}}),D)(L)}}]);
//# sourceMappingURL=8.js.map